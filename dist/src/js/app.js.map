{"version":3,"sources":["../../../src/js/app.js"],"names":["FeedsView","textarea","document","getElementById","feedsItem","forEach","appendChild","item","view","ItemFeed","obj","id","title","description","pubDate","pubdate_ms","author","link","isRead","idFeedModel","div","createElement","a","inputIsRead","type","dataPubl","createTextNode","href","h2","FeedModel","url","test","rssUrl","_feedsItem","isUnsubscribe","Error","Promise","resolve","reject","feednami","load","result","error","entries","feed","feedsPromise","getFeedRssPromis","then","items","push","console","log","msgAlert","innerHTML","p","FeedsCollection","feeds","feedsView","fn","hasChildNodes","removeChild","lastChild","sort","index","indexOf","splice","redesign","concat","visibleAllFeeds","arr","Array","isArray","rssFeed","feedsPromis","feedsCollection","e","name","message","FeedListView","fileId","className","buttonIsUnsubscribe","value","onclick","deleteFeed","feedListView","FeedView","element","elm","ButtonAddController","addRssButton","textRss","RssFeedModel","ButtonRssController","rss","ButtonSortTitle","buttonSortTitle","sortTitle","one","two","ButtonSortDatePubl","buttonSortDatePubl","sortDatePubl","buttonAddFeeds","buttonRss"],"mappings":"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","file":"app.js","sourcesContent":["class FeedsView {\r\n  constructor() {\r\n    this.textarea = document.getElementById('textarea');\r\n  }\r\n  \r\n  view(feedsItem) {\r\n    feedsItem.forEach(item => this.textarea.appendChild(item.view()));\r\n  }\r\n}\r\n\r\n///////////////////////////////////////////////////\r\n//    Models\r\n////////////////////////////////////////////////////\r\n\r\nclass ItemFeed {\r\n  constructor(obj) {\r\n    this.id = ItemFeed.id++;\r\n    this.title = obj.title;\r\n    this.description = obj.description;\r\n    this.pubDate = obj.pubDate;\r\n    this.pubdate_ms = obj.pubdate_ms;\r\n    this.author = obj.author;\r\n    this.link = obj.link;\r\n    this.isRead = false;\r\n    this.idFeedModel = obj.idFeedModel;\r\n  }\r\n  read(){\r\n    this.isRead = !this.isRead;\r\n    return this.isRead;\r\n  }\r\n  view() {\r\n    let div = document.createElement('div');\r\n    let a = document.createElement('a');\r\n    let inputIsRead = document.createElement('input');\r\n    inputIsRead.type = 'checkbox';\r\n    let dataPubl = document.createElement('p');\r\n    dataPubl.appendChild(document.createTextNode(this.pubdate_ms));\r\n    a.href = this.link;\r\n    let h2 = document.createElement('h2');\r\n    h2.appendChild(document.createTextNode(this.title));\r\n    a.appendChild(h2);\r\n    div.appendChild(dataPubl);\r\n    div.appendChild(a);\r\n    div.appendChild(inputIsRead);\r\n    return div;\r\n  }\r\n}\r\nItemFeed.id = 0;\r\n\r\nclass FeedModel {\r\n  constructor(url) {\r\n    if (/^http/i.test(url)) {\r\n      this.idFeedModel = FeedModel.id++;\r\n      this.rssUrl = url;\r\n      this._feedsItem = [];\r\n      // this.feedsPromis();\r\n      this.isUnsubscribe = false;\r\n    } else {\r\n      throw new Error('не содержит урл!');\r\n    }\r\n  }\r\n  getFeedRssPromis() {\r\n    return new Promise((resolve, reject) => {\r\n      feednami.load(this.rssUrl, function(result) {\r\n        if (result.error) {\r\n          reject(result.error);\r\n        }\r\n        else {\r\n          let entries = result.feed.entries;\r\n          resolve(entries);\r\n        }\r\n      })\r\n    });\r\n  }\r\n  \r\n  feedsPromis() {\r\n    return new Promise((resolve, reject) => {\r\n      let feedsPromise = this.getFeedRssPromis();\r\n      feedsPromise\r\n      .then(\r\n         items => {\r\n           for (let item of items) {\r\n             item.idFeedModel = this.idFeedModel;\r\n             this._feedsItem.push(new ItemFeed(item));\r\n           }\r\n           resolve(true);\r\n         },\r\n         error => {\r\n           console.log(\"Ошибка: \" + error);\r\n           msgAlert.innerHTML = \"Ошибка: Проверте адресс! Скорей всего он не правильный \"; // error - аргумент reject\r\n           reject(result.error);\r\n         }\r\n      );\r\n    });\r\n  }\r\n  \r\n  get feeds() {\r\n    return this._feedsItem;\r\n  }\r\n  \r\n  get url() {\r\n    return this.rssUrl;\r\n  }\r\n  unsubscribe(){\r\n    this.isUnsubscribe = !this.isUnsubscribe;\r\n    return this.isUnsubscribe;\r\n  }\r\n  \r\n  view(){\r\n    let p = document.createElement('p');\r\n    p.appendChild(document.createTextNode(this.url));\r\n    return p;\r\n  }\r\n}\r\nFeedModel.id = 0;\r\n///////////////////////////////////////\r\n//       Collections\r\n//////////////////////////////////////\r\n\r\nclass FeedsCollection {\r\n  constructor() {\r\n    this.feeds = [];\r\n    this.feedsItem = [];\r\n    this.feedsView = (new FeedsView());\r\n    \r\n  }\r\n \r\n  set feed(rssFeed) {\r\n    if (rssFeed instanceof FeedModel) {\r\n      let feedsPromise = rssFeed.feedsPromis();\r\n      feedsPromise\r\n      .then(() => {\r\n        this.feeds.push(rssFeed);\r\n        this.feedsItem = this.feedsItem.concat(rssFeed.feeds);\r\n        this.visibleAllFeeds();\r\n      });\r\n    } else {\r\n      throw new Error('неправильный класс!');\r\n    }\r\n  }\r\n  \r\n  get feed() {\r\n    return this.feeds;\r\n  }\r\n  \r\n  visibleAllFeeds(fn) {\r\n    if (typeof fn !== \"function\") {\r\n      fn = ''\r\n    }\r\n    while (textarea.hasChildNodes()) {\r\n      textarea.removeChild(textarea.lastChild);\r\n    }\r\n    this.feedsView.view(this.feedsItem.sort(fn));\r\n  }\r\n  \r\n  deleteFeed(feed) {\r\n    if (!(feed instanceof FeedModel)) {\r\n      throw new Error('неправильный класс!');\r\n    }\r\n    let index = this.feeds.indexOf(feed);\r\n    if (index === -1) {\r\n      console.error(\"нет такого элемента\");\r\n      return\r\n    }\r\n    this.feeds.splice(index, 1);\r\n    this.redesign();\r\n    console.log(\"объект удален\")\r\n  }\r\n  redesign(){\r\n    this.feedsItem = [];\r\n    this.feeds.forEach(item=> this.feedsItem = this.feedsItem.concat(item.feeds));\r\n    this.visibleAllFeeds();\r\n  }\r\n  setfeedsItem(arr) {\r\n    if (!Array.isArray(arr)) {\r\n      console.error(\"передали в feedsItem не массив\");\r\n      return;\r\n    }\r\n    this.feedsItem = this.feedsItem.concat(arr);\r\n  }\r\n  view(){\r\n    console.log('FeedsCollection')\r\n  }\r\n}\r\n\r\nlet feedsCollection = new FeedsCollection();\r\ntry {\r\n  let a = new FeedModel('http://4pda.ru/feed/rss');\r\n  feedsCollection.feed = new FeedModel('http://4pda.ru/feed/rss');\r\n  feedsCollection.feed = new FeedModel('https://www.liteforex.ru/rss/company-news/');\r\n  feedsCollection.feed = a;\r\n} catch (e) {\r\n  console.log(e.name + ': ' + e.message);\r\n}\r\n\r\n\r\n///////////////////////////////////////////////////\r\n//\r\n//   Views\r\n//\r\n////////////////////////////////////////////////////\r\n/**\r\n * показ списка подписок\r\n */\r\nclass FeedListView {\r\n  constructor(fileId) {\r\n    this.msgAlert = document.getElementById(fileId);\r\n  }\r\n  \r\n  view(arr) {\r\n    if (!Array.isArray(arr)) {\r\n      throw new Error('не массив!');\r\n    }\r\n    while (this.msgAlert.hasChildNodes()) {\r\n      this.msgAlert.removeChild(this.msgAlert.lastChild);\r\n    }\r\n    let div = document.createElement('div');\r\n    div.className = \"FeedsView\";\r\n    arr.forEach(item => {\r\n    this.msgAlert.appendChild(item.view());\r\n      let buttonIsUnsubscribe = document.createElement('input');\r\n      buttonIsUnsubscribe.type = 'button';\r\n      buttonIsUnsubscribe.value = 'удалить';\r\n      buttonIsUnsubscribe.onclick = function() {\r\n        const msgAlert = document.getElementById('msgAlert');\r\n  \r\n        while (msgAlert.hasChildNodes()) {\r\n          msgAlert.removeChild(msgAlert.lastChild);\r\n        }\r\n        feedsCollection.deleteFeed(item);\r\n        \r\n      };\r\n    this.msgAlert.appendChild(buttonIsUnsubscribe);\r\n    });\r\n  }\r\n}\r\n\r\nlet feedListView = new FeedListView('msgAlert');\r\n\r\nclass FeedView {\r\n  constructor(item) {\r\n    this.element = 'div';\r\n    console.log(item.author);\r\n  }\r\n\r\n  view() {\r\n    let elm = document.createElement(this.element);\r\n  }\r\n}\r\n\r\n\r\n///////////////////////////////////////////////////\r\n//    Controllers\r\n////////////////////////////////////////////////////\r\n\r\n/**\r\n * кнопка добавление рсс ленты\r\n * @constructor\r\n */\r\nclass ButtonAddController {\r\n  constructor() {\r\n    const addRssButton = document.getElementById('addRssButton');\r\n    const textRss = document.getElementById('rssText');\r\n  \r\n    addRssButton.onclick = function() {\r\n      feeds.feed = new RssFeedModel(textRss.value);\r\n      textRss.value = '';\r\n    };\r\n  }\r\n}\r\n\r\n/**\r\n * кнопка показать ленты\r\n *\r\n * @constructor\r\n */\r\nclass ButtonRssController {\r\n  constructor() {\r\n    const rss = document.getElementById('rss');\r\n    const msgAlert = document.getElementById('msgAlert');\r\n    rss.onclick = function() {\r\n      feedListView.view(feedsCollection.feed);\r\n    };\r\n  }\r\n}\r\n/**\r\n *  кнопка сортировки по названию\r\n */\r\nclass ButtonSortTitle {\r\n  constructor() {\r\n    const buttonSortTitle = document.getElementById('rssButtonSortTitle');\r\n    const textarea = document.getElementById('textarea');\r\n    buttonSortTitle.onclick = function() {\r\n      while (textarea.hasChildNodes()) {\r\n        textarea.removeChild(textarea.lastChild);\r\n      }\r\n    \r\n      let sortTitle = function(one, two) {\r\n        return two.title - one.title;\r\n      };\r\n      feedsCollection.visibleAllFeeds(sortTitle)\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n *  кнопка сортировки по дате публикации\r\n */\r\nclass ButtonSortDatePubl {\r\n  constructor() {\r\n    const buttonSortDatePubl = document.getElementById('rssButtonSortDatePubl');\r\n    const textarea = document.getElementById('textarea');\r\n    buttonSortDatePubl.onclick = function() {\r\n      while (textarea.hasChildNodes()) {\r\n        textarea.removeChild(textarea.lastChild);\r\n      }\r\n      let sortDatePubl = function (one, two){\r\n        return two.pubdate_ms  - one.pubdate_ms;\r\n      };\r\n        feedsCollection.visibleAllFeeds(sortDatePubl);\r\n    }\r\n  }\r\n}\r\n\r\n\r\nlet buttonAddFeeds = new ButtonAddController();\r\nlet buttonRss = new ButtonRssController();\r\nlet buttonSortTitle = new ButtonSortTitle();\r\nlet buttonSortDatePubl = new ButtonSortDatePubl();\r\n/////////////////////////////////////////////////////\r\n"]}